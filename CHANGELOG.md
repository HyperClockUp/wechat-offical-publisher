# 更新日志

所有重要的项目变更都会记录在这个文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [0.2.0] - 2025-01-20

### 🎉 新增功能
- ✨ **网络图片上传功能**: 支持通过 URL 上传封面图片和文章图片
  - 自动下载网络图片到临时目录
  - 智能处理图片格式和大小以符合微信要求
  - 自动清理临时文件，避免磁盘空间浪费
  - 支持多种图片格式：JPG、PNG、GIF、WebP
- 🔧 **简化多公众号管理**: 
  - 移除复杂的账号管理概念
  - 保留核心的 token 区分功能，按 AppID 缓存 token
  - 避免不同公众号之间的 token 冲突
- 🚀 **优化 MCP 服务器**: 
  - 移除不必要的账号管理工具
  - 简化 `clear_token_cache` 工具，只接受 appId 参数
  - 提升 MCP 服务器的稳定性和性能

### 🐛 问题修复
- 🔨 修复 MCP 服务器的语法错误和重复方法定义
- 🛠️ 优化 TokenManager 实现，移除未使用的变量警告
- 🔧 修复构建过程中的 TypeScript 编译错误

### 📚 文档改进
- 📖 完全重写 README.md，添加详细的功能说明和使用示例
- 🗂️ 清理项目根目录，移除多余的文档文件
- 📝 添加网络图片上传功能的使用说明
- 🎯 优化项目结构和文件组织

### 🔄 内部优化
- 🏗️ 重构 MCP 服务器代码，提升代码质量
- 🧹 清理项目文件，移除不必要的测试文件和文档
- 📦 优化 package.json 配置，准备 npm 发布

### 🧪 测试验证
- ✅ 网络图片上传功能完整测试通过
- ✅ 多公众号 token 管理功能验证
- ✅ MCP 服务器功能测试通过
- ✅ 构建和发布流程验证

## [0.1.0] - 2024-12-01

### 🎉 首次发布
- 📝 **基础功能**: Markdown 转换为微信公众号格式
- 🖼️ **图片处理**: 本地图片自动上传到微信素材库
- 🔄 **令牌管理**: 自动获取和刷新微信 access_token
- 🎨 **主题系统**: 内置多种主题，支持自定义样式
- 🔌 **插件系统**: 可扩展的插件架构
- 📦 **CLI 工具**: 命令行界面，支持全局安装
- 🤖 **MCP 支持**: Model Context Protocol 服务器实现
- 🛡️ **错误处理**: 完善的错误处理和日志记录

### 📋 支持的功能
- Markdown 语法支持（标题、段落、列表、代码块等）
- 本地图片自动上传和处理
- 多种内置主题（default、juejin、zhihu、wechat）
- 自动 token 管理和缓存
- 文章预览功能
- 草稿箱发布
- 完整的 CLI 命令集

---

## 版本说明

- **主版本号**: 不兼容的 API 修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

## 贡献指南

如果你想为这个项目做出贡献，请：

1. Fork 这个仓库
2. 创建你的特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交你的修改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开一个 Pull Request

感谢所有贡献者的努力！🙏