{
  "$schema": "https://github.com/modelcontextprotocol/specification/blob/main/schema/mcp_config_schema.json",
  "name": "wechat-official-publisher-sse",
  "description": "WeChat Official Publisher MCP Server with SSE Transport",
  "version": "1.0.0",
  "transport": {
    "type": "sse",
    "host": "localhost",
    "port": 3000,
    "cors": true,
    "maxConnections": 100,
    "heartbeatInterval": 30000
  },
  "capabilities": {
    "tools": {
      "publish_article": {
        "description": "发布文章到微信公众号",
        "parameters": {
          "filePath": {
            "type": "string",
            "required": true,
            "description": "要发布的文章文件路径"
          },
          "title": {
            "type": "string",
            "required": false,
            "description": "文章标题（可选）"
          },
          "author": {
            "type": "string",
            "required": false,
            "description": "文章作者（可选）"
          },
          "digest": {
            "type": "string",
            "required": false,
            "description": "文章摘要（可选）"
          },
          "coverImage": {
            "type": "string",
            "required": false,
            "description": "封面图片路径（可选）"
          },
          "draft": {
            "type": "boolean",
            "required": false,
            "default": true,
            "description": "是否保存为草稿（默认true）"
          },
          "theme": {
            "type": "string",
            "required": false,
            "description": "使用的主题名称（可选）"
          }
        }
      },
      "preview_article": {
        "description": "预览文章效果",
        "parameters": {
          "filePath": {
            "type": "string",
            "required": true,
            "description": "要预览的文章文件路径"
          },
          "theme": {
            "type": "string",
            "required": false,
            "description": "使用的主题名称（可选）"
          }
        }
      },
      "list_themes": {
        "description": "获取可用的主题列表",
        "parameters": {}
      },
      "process_content": {
        "description": "处理文章内容（应用主题和插件）",
        "parameters": {
          "content": {
            "type": "string",
            "required": true,
            "description": "要处理的文章内容"
          },
          "theme": {
            "type": "string",
            "required": false,
            "description": "使用的主题名称（可选）"
          }
        }
      },
      "get_config": {
        "description": "获取当前配置信息",
        "parameters": {}
      }
    }
  },
  "environment": {
    "required": [
      "WECHAT_APP_ID",
      "WECHAT_APP_SECRET"
    ],
    "optional": [
      "NODE_ENV",
      "DEBUG"
    ]
  },
  "endpoints": {
    "health": "/health",
    "info": "/mcp/info",
    "events": "/mcp/events",
    "call": "/mcp/call",
    "test": "/"
  },
  "features": {
    "realtime_progress": true,
    "broadcast_events": true,
    "web_interface": true,
    "cors_support": true,
    "heartbeat": true,
    "connection_management": true
  },
  "usage": {
    "start_command": "wechat-official-publisher mcp-server --transport sse",
    "npm_script": "npm run mcp-server:sse",
    "custom_port": "wechat-official-publisher mcp-server --transport sse --port 8080",
    "custom_host": "wechat-official-publisher mcp-server --transport sse --host 0.0.0.0 --port 3000"
  },
  "examples": {
    "client_connection": "const client = new SSEMCPClient('http://localhost:3000'); await client.connect();",
    "tool_call": "await client.callTool('list_themes');",
    "publish_article": "await client.callTool('publish_article', { filePath: './article.md', draft: true });"
  }
}